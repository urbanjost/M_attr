<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>M_attr: m_attr::attr Interface Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">M_attr
   </div>
   <div id="projectbrief">M_attr module (Fortran)</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacem__attr.html">m_attr</a></li><li class="navelem"><a class="el" href="interfacem__attr_1_1attr.html">attr</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="interfacem__attr_1_1attr-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">m_attr::attr Interface Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:ae77e2f400a33b44383a280133d8dbc48"><td class="memItemLeft" align="right" valign="top">character(len=:) function, allocatable&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfacem__attr_1_1attr.html#ae77e2f400a33b44383a280133d8dbc48">attr_scalar</a> (string, <a class="el" href="namespacem__attr.html#a7fbabaa819e5276aa2fff7a9a833aff0">reset</a>)</td></tr>
<tr class="separator:ae77e2f400a33b44383a280133d8dbc48"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d1e060191e5abb47903c137cc91cebf"><td class="memItemLeft" align="right" valign="top">character(len=:) function, dimension(:), allocatable&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfacem__attr_1_1attr.html#a4d1e060191e5abb47903c137cc91cebf">attr_matrix</a> (string, <a class="el" href="namespacem__attr.html#a7fbabaa819e5276aa2fff7a9a833aff0">reset</a>, chars)</td></tr>
<tr class="separator:a4d1e060191e5abb47903c137cc91cebf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38ae4ff202c072251e503ab49b4e763b"><td class="memItemLeft" align="right" valign="top">character(len=:) function, allocatable&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfacem__attr_1_1attr.html#a38ae4ff202c072251e503ab49b4e763b">attr_scalar_width</a> (string, <a class="el" href="namespacem__attr.html#a7fbabaa819e5276aa2fff7a9a833aff0">reset</a>, chars)</td></tr>
<tr class="separator:a38ae4ff202c072251e503ab49b4e763b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Member Function/Subroutine Documentation</h2>
<a id="a4d1e060191e5abb47903c137cc91cebf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d1e060191e5abb47903c137cc91cebf">&#9670;&nbsp;</a></span>attr_matrix()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">character(len=:) function, dimension(:), allocatable m_attr::attr::attr_matrix </td>
          <td>(</td>
          <td class="paramtype">character(len=*), dimension(:), intent(in)&#160;</td>
          <td class="paramname"><em>string</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">logical, intent(in), optional&#160;</td>
          <td class="paramname"><em>reset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in), optional&#160;</td>
          <td class="paramname"><em>chars</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ae77e2f400a33b44383a280133d8dbc48"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae77e2f400a33b44383a280133d8dbc48">&#9670;&nbsp;</a></span>attr_scalar()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">character(len=:) function, allocatable m_attr::attr::attr_scalar </td>
          <td>(</td>
          <td class="paramtype">character(len=*), intent(in)&#160;</td>
          <td class="paramname"><em>string</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">logical, intent(in), optional&#160;</td>
          <td class="paramname"><em>reset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<h2><a class="anchor" id="autotoc_md9"></a>
NAME</h2>
<p>attr(3f) - [M_attr] substitute escape sequences for HTML-like syntax in strings (LICENSE:MIT)</p>
<h2><a class="anchor" id="autotoc_md10"></a>
SYNOPSIS</h2>
<pre class="fragment">  function attr(string,reset) result (expanded)

    ! scalar
    character(len=*),intent(in)  :: string
    logical,intent(in),optional  :: reset
    character(len=:),allocatable :: expanded
    ! or array
    character(len=*),intent(in)  :: string(:)
    logical,intent(in),optional  :: reset
    character(len=:),allocatable :: expanded(:)
    integer,intent(in),optional  :: chars
</pre><h2><a class="anchor" id="autotoc_md11"></a>
DESCRIPTION</h2>
<p>Use HTML-like syntax to add attributes to terminal output such as color on devices that recognize ANSI escape sequences.</p>
<h2><a class="anchor" id="autotoc_md12"></a>
OPTIONS</h2>
<p>string input string of form </p><pre class="fragment">            "&lt;attribute_name&gt;string&lt;/attribute_name&gt; ...".

           where the current attributes are color names,
           bold, italic, underline, ...
</pre><p>reset By default, a sequence to clear all text attributes is sent at the end of each returned line if an escape character appears in the output string. This can be turned off by setting RESET to .false. .</p>
<p>Note if turning off the reset attributes may be continued accross lines, but if each line is not self-contained attributes may not display properly when filtered with commands such as grep(1).</p>
<p>chars For arrays, a reset will be placed after the Nth displayable column count in order to make it easier to generate consistent right borders for non-default background colors for a text block. </p>
<h2><a class="anchor" id="autotoc_md13"></a>
KEYWORDS</h2>
<p>primary default keywords</p>
<p>colors: r, red, R, RED g, green, G, GREEN b, blue, B, BLUE m, magenta, M, MAGENTA c, cyan, C, CYAN y, yellow, Y, YELLOW e, ebony, E, EBONY w, white, W, WHITE</p>
<p>attributes: it, italic bo, bold un, underline</p>
<p>basic control characters: nul bel (0x07, ^G) beeps; bs (0x08, ^H) backspaces one column (but not past the beginning of the line); ht (0x09, ^I) goes to the next tab stop or to the end of the line if there is no earlier tab stop; lf (0x0A, ^J), vt (0x0B, ^K) ff (0x0C, ^L) all give a linefeed, and if LF/NL (new-line mode) is set also a carriage return cr (0x0D, ^M) gives a carriage return; so (0x0E, ^N) activates the G1 character set; si (0x0F, ^O) activates the G0 character set; can (0x18, ^X) and SUB (0x1A, ^Z) interrupt escape sequences; sub esc (0x1B, ^[) starts an escape sequence; del (0x7F) is ignored;</p>
<p>other: clear default reset gt lt save,DECSC Save current state (cursor coordinates, attributes, character sets pointed at by G0, G1). restore,DECRC Restore state most recently saved by ESC 7. CSI "Control Sequence Introducer"(0x9B) is equivalent to "ESC [".</p>
<p>dual-value (one for color, one for mono):</p>
<p>write(*,*)attr('&lt;ERROR&gt;an error message') write(*,*)attr('&lt;WARNING&gt;a warning message') write(*,*)attr('&lt;INFO&gt;an informational message')</p>
<p>By default, if the color mnemonics (ie. the keywords) are uppercase they change the background color. If lowercase, the foreground color. When preceded by a "/" character the attribute is returned to the default.</p>
<p>The "default" keyword is typically used explicitly when reset=.false, and sets all text attributes to their initial defaults.</p>
<h2><a class="anchor" id="autotoc_md14"></a>
LIMITATIONS</h2>
<p>o colors are not nestable, keywords are case-sensitive, o not all terminals obey the sequences. On Windows, it is best if you use Windows 10+ and/or the Linux mode; although it has worked with all CygWin and MinGW and Putty windows and mintty. o you should use "&lt;gt&gt;" and "&lt;lt&gt;" instead of "&gt;" and "&lt;" in a string processed by attr(3f) instead of in any plain text output so that the raw mode will create correct input for the attr(3f) function if read back in.</p>
<h2><a class="anchor" id="autotoc_md15"></a>
EXAMPLE</h2>
<pre class="fragment">Sample program

 program demo_esc
 use M_attr, only : attr, attr_mode, attr_update
    call printstuff('defaults')

    call attr_mode(manner='plain')
    call printstuff('plain:')

    call printstuff('raw')

    call attr_mode(manner='color')
    call printstuff('')

    write(*,'(a)') attr('TEST ADDING A CUSTOM SEQUENCE:')
    call attr_update('blink',char(27)//'[5m')
    call attr_update('/blink',char(27)//'[38m')
    write(*,'(a)') attr('&lt;blink&gt;Items for Friday&lt;/blink&gt;')

 contains
 subroutine printstuff(label)
 character(len=*),intent(in)  :: label
 character(len=:),allocatable :: array(:)
   call attr_mode(manner=label)

   array=[character(len=60) ::    &amp;
    'TEST MANNER='//label,                      &amp;
    '&lt;r&gt;RED&lt;/r&gt;,&lt;g&gt;GREEN&lt;/g&gt;,&lt;b&gt;BLUE&lt;/b&gt;',      &amp;
    '&lt;c&gt;CYAN&lt;/c&gt;,&lt;m&gt;MAGENTA&lt;/g&gt;,&lt;y&gt;YELLOW&lt;/y&gt;', &amp;
    '&lt;w&gt;WHITE&lt;/w&gt; and &lt;e&gt;EBONY&lt;/e&gt;']
   write(*,'(a)') attr(array)

   write(*,'(a)') attr('Adding &lt;bo&gt;bold&lt;/bo&gt;')
   write(*,'(a)') attr('&lt;bo&gt;&lt;r&gt;RED&lt;/r&gt;,&lt;g&gt;GREEN&lt;/g&gt;,&lt;b&gt;BLUE&lt;/b&gt;&lt;/bo&gt;')
   write(*,'(a)') attr('&lt;bo&gt;&lt;c&gt;CYAN&lt;/c&gt;,&lt;m&gt;MAGENTA&lt;/g&gt;,&lt;y&gt;YELLOW&lt;/y&gt;&lt;/bo&gt;')
   write(*,'(a)') attr('&lt;bo&gt;&lt;w&gt;WHITE&lt;/w&gt; and &lt;e&gt;EBONY&lt;/e&gt;&lt;/bo&gt;')

   write(*,'(a)') attr('Adding &lt;ul&gt;underline&lt;/ul&gt;')
   write(*,'(a)') attr(&amp;
    &amp;'&lt;bo&gt;&lt;ul&gt;&lt;r&gt;RED&lt;/r&gt;,&lt;g&gt;GREEN&lt;/g&gt;,&lt;b&gt;BLUE&lt;/b&gt;&lt;/ul&gt;&lt;/bo&gt;')
   write(*,'(a)') attr(&amp;
    &amp;'&lt;bo&gt;&lt;ul&gt;&lt;c&gt;CYAN&lt;/c&gt;,&lt;m&gt;MAGENTA&lt;/g&gt;,&lt;y&gt;YELLOW&lt;/y&gt;&lt;/ul&gt;&lt;/bo&gt;')
   write(*,'(a)') attr('&lt;bo&gt;&lt;ul&gt;&lt;w&gt;WHITE&lt;/w&gt; and &lt;e&gt;EBONY&lt;/e&gt;&lt;/ul&gt;&lt;/bo&gt;')

   write(*,'(a)') attr('Adding &lt;ul&gt;italic&lt;/ul&gt;')
   write(*,'(a)') attr(&amp;
    &amp;'&lt;bo&gt;&lt;ul&gt;&lt;it&gt;&lt;r&gt;RED&lt;/r&gt;,&lt;g&gt;GREEN&lt;/g&gt;,&lt;b&gt;BLUE&lt;/b&gt;&lt;/it&gt;&lt;/ul&gt;&lt;/bo&gt;')
   write(*,'(a)') attr(&amp;
    &amp;'&lt;bo&gt;&lt;ul&gt;&lt;it&gt;&lt;c&gt;CYAN&lt;/c&gt;,&lt;m&gt;MAGENTA&lt;/g&gt;,&lt;y&gt;YELLOW&lt;/it&gt;&lt;/y&gt;&lt;/ul&gt;&lt;/bo&gt;')
   write(*,'(a)') attr('&lt;bo&gt;&lt;ul&gt;&lt;it&gt;&lt;w&gt;WHITE&lt;/w&gt; and &lt;e&gt;EBONY&lt;/e&gt;&lt;/ul&gt;&lt;/bo&gt;')

   write(*,'(a)') attr('Adding &lt;in&gt;inverse&lt;/in&gt;')
   write(*,'(a)') attr('&lt;in&gt;&lt;bo&gt;&lt;ul&gt;&lt;it&gt;&lt;r&gt;RED&lt;/r&gt;,&lt;g&gt;GREEN&lt;/g&gt;,&amp;
    &amp;&lt;b&gt;BLUE&lt;/b&gt;&lt;/it&gt;&lt;/ul&gt;&lt;/bo&gt;&lt;/in&gt;')
   write(*,'(a)') attr('&lt;in&gt;&lt;bo&gt;&lt;ul&gt;&lt;it&gt;&lt;c&gt;CYAN&lt;/c&gt;,&lt;m&gt;MAGENTA&lt;/g&gt;,&amp;
    &amp;&lt;y&gt;YELLOW&lt;/it&gt;&lt;/y&gt;&lt;/ul&gt;&lt;/bo&gt;&lt;/in&gt;')
   write(*,'(a)') attr(&amp;
    &amp;'&lt;in&gt;&lt;bo&gt;&lt;ul&gt;&lt;it&gt;&lt;w&gt;WHITE&lt;/w&gt; and &lt;e&gt;EBONY&lt;/e&gt;&lt;/ul&gt;&lt;/bo&gt;&lt;/in&gt;')
 end subroutine printstuff
 end program demo_esc
</pre><h2><a class="anchor" id="autotoc_md16"></a>
AUTHOR</h2>
<p>John S. Urban, 2021</p>
<h2><a class="anchor" id="autotoc_md17"></a>
LICENSE</h2>
<p>MIT</p>
<h2><a class="anchor" id="autotoc_md18"></a>
SEE ALSO</h2>
<p>attr_mode(3f), attr_update(3f) </p>

</div>
</div>
<a id="a38ae4ff202c072251e503ab49b4e763b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a38ae4ff202c072251e503ab49b4e763b">&#9670;&nbsp;</a></span>attr_scalar_width()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">character(len=:) function, allocatable m_attr::attr::attr_scalar_width </td>
          <td>(</td>
          <td class="paramtype">character(len=*), intent(in)&#160;</td>
          <td class="paramname"><em>string</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">logical, intent(in), optional&#160;</td>
          <td class="paramname"><em>reset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>chars</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this interface was generated from the following file:<ul>
<li>/home/urbanjs/venus/V600/github/M_attr/src/<a class="el" href="M__attr_8f90.html">M_attr.f90</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
