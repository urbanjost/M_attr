\hypertarget{interfacem__attr_1_1attr}{}\doxysection{m\+\_\+attr\+::attr Interface Reference}
\label{interfacem__attr_1_1attr}\index{m\_attr::attr@{m\_attr::attr}}
\doxysubsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
character(len=\+:) function, allocatable \mbox{\hyperlink{interfacem__attr_1_1attr_ae77e2f400a33b44383a280133d8dbc48}{attr\+\_\+scalar}} (string, \mbox{\hyperlink{namespacem__attr_a7fbabaa819e5276aa2fff7a9a833aff0}{reset}})
\item 
character(len=\+:) function, dimension(\+:), allocatable \mbox{\hyperlink{interfacem__attr_1_1attr_a31763849ea37b90623ca3c6da15ddab5}{attr\+\_\+matrix}} (strings, \mbox{\hyperlink{namespacem__attr_a7fbabaa819e5276aa2fff7a9a833aff0}{reset}}, chars)
\item 
character(len=\+:) function, allocatable \mbox{\hyperlink{interfacem__attr_1_1attr_a38ae4ff202c072251e503ab49b4e763b}{attr\+\_\+scalar\+\_\+width}} (string, \mbox{\hyperlink{namespacem__attr_a7fbabaa819e5276aa2fff7a9a833aff0}{reset}}, chars)
\end{DoxyCompactItemize}


\doxysubsection{Member Function/\+Subroutine Documentation}
\mbox{\Hypertarget{interfacem__attr_1_1attr_a31763849ea37b90623ca3c6da15ddab5}\label{interfacem__attr_1_1attr_a31763849ea37b90623ca3c6da15ddab5}} 
\index{m\_attr::attr@{m\_attr::attr}!attr\_matrix@{attr\_matrix}}
\index{attr\_matrix@{attr\_matrix}!m\_attr::attr@{m\_attr::attr}}
\doxysubsubsection{\texorpdfstring{attr\_matrix()}{attr\_matrix()}}
{\footnotesize\ttfamily character(len=\+:) function, dimension(\+:), allocatable m\+\_\+attr\+::attr\+::attr\+\_\+matrix (\begin{DoxyParamCaption}\item[{character(len=$\ast$), dimension(\+:), intent(in)}]{strings,  }\item[{logical, intent(in), optional}]{reset,  }\item[{integer, intent(in), optional}]{chars }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}

\mbox{\Hypertarget{interfacem__attr_1_1attr_ae77e2f400a33b44383a280133d8dbc48}\label{interfacem__attr_1_1attr_ae77e2f400a33b44383a280133d8dbc48}} 
\index{m\_attr::attr@{m\_attr::attr}!attr\_scalar@{attr\_scalar}}
\index{attr\_scalar@{attr\_scalar}!m\_attr::attr@{m\_attr::attr}}
\doxysubsubsection{\texorpdfstring{attr\_scalar()}{attr\_scalar()}}
{\footnotesize\ttfamily character(len=\+:) function, allocatable m\+\_\+attr\+::attr\+::attr\+\_\+scalar (\begin{DoxyParamCaption}\item[{character(len=$\ast$), intent(in)}]{string,  }\item[{logical, intent(in), optional}]{reset }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}

\hypertarget{namespacem__attr_autotoc_md9}{}\doxysubsubsection{N\+A\+ME}\label{namespacem__attr_autotoc_md9}
attr(3f) -\/ \mbox{[}M\+\_\+attr\mbox{]} substitute escape sequences for H\+T\+M\+L-\/like syntax in strings (L\+I\+C\+E\+N\+SE\+:M\+IT)\hypertarget{namespacem__attr_autotoc_md10}{}\doxysubsubsection{S\+Y\+N\+O\+P\+S\+IS}\label{namespacem__attr_autotoc_md10}
\begin{DoxyVerb}  function attr(string,reset) result (expanded)

    ! scalar
    character(len=*),intent(in)  :: string
    logical,intent(in),optional  :: reset
    character(len=:),allocatable :: expanded
    ! or array
    character(len=*),intent(in)  :: string(:)
    logical,intent(in),optional  :: reset
    character(len=:),allocatable :: expanded(:)
    integer,intent(in),optional  :: chars
\end{DoxyVerb}
\hypertarget{namespacem__attr_autotoc_md11}{}\doxysubsubsection{D\+E\+S\+C\+R\+I\+P\+T\+I\+ON}\label{namespacem__attr_autotoc_md11}
Use H\+T\+M\+L-\/like syntax to add attributes to terminal output such as color on devices that recognize A\+N\+SI escape sequences.\hypertarget{namespacem__attr_autotoc_md12}{}\doxysubsubsection{O\+P\+T\+I\+O\+NS}\label{namespacem__attr_autotoc_md12}
string input string of form \begin{DoxyVerb}            "<attribute_name>string</attribute_name> ...".

           where the current attributes are color names,
           bold, italic, underline, ...
\end{DoxyVerb}


reset By default, a sequence to clear all text attributes is sent at the end of each returned line if an escape character appears in the output string. This can be turned off by setting R\+E\+S\+ET to .false. .

Note if turning off the reset attributes may be continued across lines, but if each line is not self-\/contained attributes may not display properly when filtered with commands such as grep(1).

chars For arrays, a reset will be placed after the Nth displayable column count in order to make it easier to generate consistent right borders for non-\/default background colors for a text block. \hypertarget{namespacem__attr_autotoc_md13}{}\doxysubsubsection{K\+E\+Y\+W\+O\+R\+DS}\label{namespacem__attr_autotoc_md13}
primary default keywords

colors\+: r, red, R, R\+ED g, green, G, G\+R\+E\+EN b, blue, B, B\+L\+UE m, magenta, M, M\+A\+G\+E\+N\+TA c, cyan, C, C\+Y\+AN y, yellow, Y, Y\+E\+L\+L\+OW e, ebony, E, E\+B\+O\+NY w, white, W, W\+H\+I\+TE

attributes\+: it, italic bo, bold un, underline

basic control characters\+: nul bel (0x07, $^\wedge$G) beeps; bs (0x08, $^\wedge$H) backspaces one column (but not past the beginning of the line); ht (0x09, $^\wedge$I) goes to the next tab stop or to the end of the line if there is no earlier tab stop; lf (0x0A, $^\wedge$J), vt (0x0B, $^\wedge$K) ff (0x0C, $^\wedge$L) all give a linefeed, and if L\+F/\+NL (new-\/line mode) is set also a carriage return cr (0x0D, $^\wedge$M) gives a carriage return; so (0x0E, $^\wedge$N) activates the G1 character set; si (0x0F, $^\wedge$O) activates the G0 character set; can (0x18, $^\wedge$X) and S\+UB (0x1A, $^\wedge$Z) interrupt escape sequences; sub esc (0x1B, $^\wedge$\mbox{[}) starts an escape sequence; del (0x7F) is ignored;

other\+: clear default reset gt lt save,D\+E\+C\+SC Save current state (cursor coordinates, attributes, character sets pointed at by G0, G1). restore,D\+E\+C\+RC Restore state most recently saved by E\+SC 7. C\+SI \char`\"{}\+Control Sequence Introducer\char`\"{}(0x9B) is equivalent to \char`\"{}\+E\+S\+C \mbox{[}\char`\"{}.

dual-\/value (one for color, one for mono)\+:

write($\ast$,$\ast$)attr(\textquotesingle{}$<$\+E\+R\+R\+O\+R$>$an error message\textquotesingle{}) write($\ast$,$\ast$)attr(\textquotesingle{}$<$\+W\+A\+R\+N\+I\+N\+G$>$a warning message\textquotesingle{}) write($\ast$,$\ast$)attr(\textquotesingle{}$<$\+I\+N\+F\+O$>$an informational message\textquotesingle{})

By default, if the color mnemonics (ie. the keywords) are uppercase they change the background color. If lowercase, the foreground color. When preceded by a \char`\"{}/\char`\"{} character the attribute is returned to the default.

The \char`\"{}default\char`\"{} keyword is typically used explicitly when reset=.false, and sets all text attributes to their initial defaults.\hypertarget{namespacem__attr_autotoc_md14}{}\doxysubsubsection{L\+I\+M\+I\+T\+A\+T\+I\+O\+NS}\label{namespacem__attr_autotoc_md14}
o colors are not nestable, keywords are case-\/sensitive, o not all terminals obey the sequences. On Windows, it is best if you use Windows 10+ and/or the Linux mode; although it has worked with all Cyg\+Win and Min\+GW and Putty windows and mintty. o you should use \char`\"{}$<$gt$>$\char`\"{} and \char`\"{}$<$lt$>$\char`\"{} instead of \char`\"{}$>$\char`\"{} and \char`\"{}$<$\char`\"{} in a string processed by attr(3f) instead of in any plain text output so that the raw mode will create correct input for the attr(3f) function if read back in.\hypertarget{namespacem__attr_autotoc_md15}{}\doxysubsubsection{E\+X\+A\+M\+P\+LE}\label{namespacem__attr_autotoc_md15}
\begin{DoxyVerb}Sample program

 program demo_attr
 use M_attr, only : attr, attr_mode, attr_update
    call printstuff('defaults')

    call attr_mode(manner='plain')
    call printstuff('plain:')

    call printstuff('raw')

    call attr_mode(manner='color')
    call printstuff('')

    write(*,'(a)') attr('TEST ADDING A CUSTOM SEQUENCE:')
    call attr_update('blink',char(27)//'[5m')
    call attr_update('/blink',char(27)//'[25m')
    write(*,'(a)') attr('<blink>Items for Friday</blink>')

 contains
 subroutine printstuff(label)
 character(len=*),intent(in)  :: label
 character(len=:),allocatable :: array(:)
   call attr_mode(manner=label)

   array=[character(len=60) ::    &
    'TEST MANNER='//label,                      &
    '<r>RED</r>,<g>GREEN</g>,<b>BLUE</b>',      &
    '<c>CYAN</c>,<m>MAGENTA</g>,<y>YELLOW</y>', &
    '<w>WHITE</w> and <e>EBONY</e>']
   write(*,'(a)') attr(array)

   write(*,'(a)') attr('Adding <bo>bold</bo>')
   write(*,'(a)') attr('<bo><r>RED</r>,<g>GREEN</g>,<b>BLUE</b></bo>')
   write(*,'(a)') attr('<bo><c>CYAN</c>,<m>MAGENTA</g>,<y>YELLOW</y></bo>')
   write(*,'(a)') attr('<bo><w>WHITE</w> and <e>EBONY</e></bo>')

   write(*,'(a)') attr('Adding <ul>underline</ul>')
   write(*,'(a)') attr(&
    &'<bo><ul><r>RED</r>,<g>GREEN</g>,<b>BLUE</b></ul></bo>')
   write(*,'(a)') attr(&
    &'<bo><ul><c>CYAN</c>,<m>MAGENTA</g>,<y>YELLOW</y></ul></bo>')
   write(*,'(a)') attr('<bo><ul><w>WHITE</w> and <e>EBONY</e></ul></bo>')

   write(*,'(a)') attr('Adding <ul>italic</ul>')
   write(*,'(a)') attr(&
    &'<bo><ul><it><r>RED</r>,<g>GREEN</g>,<b>BLUE</b></it></ul></bo>')
   write(*,'(a)') attr(&
    &'<bo><ul><it><c>CYAN</c>,<m>MAGENTA</g>,<y>YELLOW</it></y></ul></bo>')
   write(*,'(a)') attr('<bo><ul><it><w>WHITE</w> and <e>EBONY</e></ul></bo>')

   write(*,'(a)') attr('Adding <in>inverse</in>')
   write(*,'(a)') attr('<in><bo><ul><it><r>RED</r>,<g>GREEN</g>,&
    &<b>BLUE</b></it></ul></bo></in>')
   write(*,'(a)') attr('<in><bo><ul><it><c>CYAN</c>,<m>MAGENTA</g>,&
    &<y>YELLOW</it></y></ul></bo></in>')
   write(*,'(a)') attr(&
    &'<in><bo><ul><it><w>WHITE</w> and <e>EBONY</e></ul></bo></in>')
 end subroutine printstuff
 end program demo_attr
\end{DoxyVerb}
\hypertarget{namespacem__attr_autotoc_md16}{}\doxysubsubsection{A\+U\+T\+H\+OR}\label{namespacem__attr_autotoc_md16}
John S. Urban, 2021\hypertarget{namespacem__attr_autotoc_md17}{}\doxysubsubsection{L\+I\+C\+E\+N\+SE}\label{namespacem__attr_autotoc_md17}
M\+IT\hypertarget{namespacem__attr_autotoc_md18}{}\doxysubsubsection{S\+E\+E A\+L\+SO}\label{namespacem__attr_autotoc_md18}
attr\+\_\+mode(3f), attr\+\_\+update(3f) \mbox{\Hypertarget{interfacem__attr_1_1attr_a38ae4ff202c072251e503ab49b4e763b}\label{interfacem__attr_1_1attr_a38ae4ff202c072251e503ab49b4e763b}} 
\index{m\_attr::attr@{m\_attr::attr}!attr\_scalar\_width@{attr\_scalar\_width}}
\index{attr\_scalar\_width@{attr\_scalar\_width}!m\_attr::attr@{m\_attr::attr}}
\doxysubsubsection{\texorpdfstring{attr\_scalar\_width()}{attr\_scalar\_width()}}
{\footnotesize\ttfamily character(len=\+:) function, allocatable m\+\_\+attr\+::attr\+::attr\+\_\+scalar\+\_\+width (\begin{DoxyParamCaption}\item[{character(len=$\ast$), intent(in)}]{string,  }\item[{logical, intent(in), optional}]{reset,  }\item[{integer, intent(in)}]{chars }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



The documentation for this interface was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
/home/urbanjs/venus/\+V600/github/\+F\+O\+R\+M\+A\+T\+S/\+M\+\_\+attr/src/\mbox{\hyperlink{M__attr_8f90}{M\+\_\+attr.\+f90}}\end{DoxyCompactItemize}
